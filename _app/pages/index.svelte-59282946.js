import{S as q,i as B,s as V,e as p,t as S,k as w,c as v,a as T,h as G,m as K,d as m,g as y,G as b,j as le,M as J,N as M,O as I,P,b as g,Q,H as U,R as j,T as ie,w as C,x as H,y as O,q as E,o as D,B as R,n as te,p as se,v as ne,U as ae,V as z,W as re}from"../chunks/vendor-bad6d441.js";import{c as A}from"../chunks/singletons-d1fb5791.js";import{g as oe,l as ue,c as ce}from"../chunks/Config-e5e786dd.js";import"../chunks/Defaults-0244c464.js";A.disable_scroll_handling;const fe=A.goto;A.invalidate;A.prefetch;A.prefetch_routes;A.before_navigate;A.after_navigate;class he{}function _e(){return`https://api.atlassian.com/ex/jira/${ue().jira.appId}/`}async function me(a){const e=_e(),t=oe();return await(await fetch(`${e}${a}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}})).json()}async function de(a){return await me(`rest/api/3/issue/picker?query=${a}&currentJQL=`)}function L(a,e,t){const i=a.slice();return i[8]=e[t],i}function W(a,e,t){const i=a.slice();return i[11]=e[t],i}function X(a){let e,t,i,o=a[11].keyHtml+"",u,f,r=a[11].summary+"",s,h;function n(){return a[7](a[11])}return{c(){e=p("div"),t=p("button"),i=new J,u=w(),f=new J,this.h()},l(l){e=v(l,"DIV",{});var c=T(e);t=v(c,"BUTTON",{});var _=T(t);i=M(_),u=K(_),f=M(_),_.forEach(m),c.forEach(m),this.h()},h(){i.a=u,f.a=null},m(l,c){y(l,e,c),b(e,t),i.m(o,t),b(t,u),f.m(r,t),s||(h=I(t,"click",n),s=!0)},p(l,c){a=l,c&1&&o!==(o=a[11].keyHtml+"")&&i.p(o),c&1&&r!==(r=a[11].summary+"")&&f.p(r)},d(l){l&&m(e),s=!1,h()}}}function $(a){let e,t=a[8].label+"",i,o,u,f=a[8].issues,r=[];for(let s=0;s<f.length;s+=1)r[s]=X(W(a,f,s));return{c(){e=p("div"),i=S(t),o=w();for(let s=0;s<r.length;s+=1)r[s].c();u=w()},l(s){e=v(s,"DIV",{});var h=T(e);i=G(h,t),o=K(h);for(let n=0;n<r.length;n+=1)r[n].l(h);u=K(h),h.forEach(m)},m(s,h){y(s,e,h),b(e,i),b(e,o);for(let n=0;n<r.length;n+=1)r[n].m(e,null);b(e,u)},p(s,h){if(h&1&&t!==(t=s[8].label+"")&&le(i,t),h&17){f=s[8].issues;let n;for(n=0;n<f.length;n+=1){const l=W(s,f,n);r[n]?r[n].p(l,h):(r[n]=X(l),r[n].c(),r[n].m(e,u))}for(;n<r.length;n+=1)r[n].d(1);r.length=f.length}},d(s){s&&m(e),P(r,s)}}}function ge(a){let e,t,i,o,u,f,r=a[0],s=[];for(let h=0;h<r.length;h+=1)s[h]=$(L(a,r,h));return{c(){e=p("div"),t=p("input"),i=w(),o=p("div");for(let h=0;h<s.length;h+=1)s[h].c();this.h()},l(h){e=v(h,"DIV",{class:!0});var n=T(e);t=v(n,"INPUT",{type:!0,placeholder:!0,class:!0}),i=K(n),o=v(n,"DIV",{class:!0});var l=T(o);for(let c=0;c<s.length;c+=1)s[c].l(l);l.forEach(m),n.forEach(m),this.h()},h(){g(t,"type","text"),g(t,"placeholder","issue"),g(t,"class","svelte-1dgualb"),g(o,"class","suggestions svelte-1dgualb"),Q(o,"open",a[2]),g(e,"class","search svelte-1dgualb")},m(h,n){y(h,e,n),b(e,t),a[6](t),b(e,i),b(e,o);for(let l=0;l<s.length;l+=1)s[l].m(o,null);u||(f=I(t,"keyup",a[3]),u=!0)},p(h,[n]){if(n&17){r=h[0];let l;for(l=0;l<r.length;l+=1){const c=L(h,r,l);s[l]?s[l].p(c,n):(s[l]=$(c),s[l].c(),s[l].m(o,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=r.length}n&4&&Q(o,"open",h[2])},i:U,o:U,d(h){h&&m(e),a[6](null),P(s,h),u=!1,f()}}}function pe(a,e,t){let{issueKey:i}=e,o=[],u,f=!1;async function r(l){if(!l.target.value)return;const _=await de(l.target.value);t(0,o=_.sections),t(2,f=!0)}async function s(l,c){t(1,u.value=`${l} - ${c}`,u),t(2,f=!1),t(5,i=l)}function h(l){j[l?"unshift":"push"](()=>{u=l,t(1,u)})}const n=l=>s(l.key,l.summaryText);return a.$$set=l=>{"issueKey"in l&&t(5,i=l.issueKey)},[o,u,f,r,s,i,h,n]}class ve extends q{constructor(e){super();B(this,e,pe,ge,V,{issueKey:5})}}function ye(a){let e,t,i,o,u;return{c(){e=p("input"),t=w(),i=p("input"),this.h()},l(f){e=v(f,"INPUT",{type:!0,class:!0}),t=K(f),i=v(f,"INPUT",{type:!0,class:!0}),this.h()},h(){g(e,"type","time"),g(e,"class","start svelte-181h0v3"),g(i,"type","time"),g(i,"class","end svelte-181h0v3")},m(f,r){y(f,e,r),a[6](e),y(f,t,r),y(f,i,r),a[7](i),o||(u=[I(e,"change",a[2]),I(i,"change",a[2])],o=!0)},p:U,i:U,o:U,d(f){f&&m(e),a[6](null),f&&m(t),f&&m(i),a[7](null),o=!1,ie(u)}}}function be(a,e,t){let{duration:i}=e,{startTime:o}=e,{endTime:u}=e,f,r;function s(){t(3,i=parseInt(r.value)-parseInt(f.value)),console.log(r.value)}function h(l){j[l?"unshift":"push"](()=>{f=l,t(0,f)})}function n(l){j[l?"unshift":"push"](()=>{r=l,t(1,r)})}return a.$$set=l=>{"duration"in l&&t(3,i=l.duration),"startTime"in l&&t(4,o=l.startTime),"endTime"in l&&t(5,u=l.endTime)},[f,r,s,i,o,u,h,n]}class ke extends q{constructor(e){super();B(this,e,be,ye,V,{duration:3,startTime:4,endTime:5})}}class F{}function Y(a,e,t){const i=a.slice();return i[2]=e[t],i}function Z(a){let e,t,i;return t=new ke({}),{c(){e=p("div"),C(t.$$.fragment),this.h()},l(o){e=v(o,"DIV",{class:!0});var u=T(e);H(t.$$.fragment,u),u.forEach(m),this.h()},h(){g(e,"class","mb-2")},m(o,u){y(o,e,u),O(t,e,null),i=!0},i(o){i||(E(t.$$.fragment,o),i=!0)},o(o){D(t.$$.fragment,o),i=!1},d(o){o&&m(e),R(t)}}}function Te(a){let e,t,i,o,u,f,r=a[0],s=[];for(let n=0;n<r.length;n+=1)s[n]=Z(Y(a,r,n));const h=n=>D(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=w(),t=p("button"),i=S("Add Duration"),this.h()},l(n){for(let c=0;c<s.length;c+=1)s[c].l(n);e=K(n),t=v(n,"BUTTON",{class:!0});var l=T(t);i=G(l,"Add Duration"),l.forEach(m),this.h()},h(){g(t,"class","button is-primary mb-2 svelte-100yq62")},m(n,l){for(let c=0;c<s.length;c+=1)s[c].m(n,l);y(n,e,l),y(n,t,l),b(t,i),o=!0,u||(f=I(t,"click",a[1]),u=!0)},p(n,[l]){if(l&1){const c=r.length;r=n[0];let _;for(_=c;_<r.length;_+=1)Y(n,r,_),s[_]?E(s[_],1):(s[_]=Z(),s[_].c(),E(s[_],1),s[_].m(e.parentNode,e));for(te(),_=r.length;_<s.length;_+=1)h(_);se()}},i(n){if(!o){for(let l=0;l<r.length;l+=1)E(s[l]);o=!0}},o(n){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)D(s[l]);o=!1},d(n){P(s,n),n&&m(e),n&&m(t),u=!1,f()}}}function Ee(a,e,t){let{durations:i=[]}=e;ne(()=>{t(0,i=[new F])});function o(){t(0,i=[...i,new F])}return a.$$set=u=>{"durations"in u&&t(0,i=u.durations)},[i,o]}class we extends q{constructor(e){super();B(this,e,Ee,Te,V,{durations:0})}}function Ke(a){let e,t,i,o,u,f,r,s,h,n,l;function c(d){a[2](d)}let _={};return a[1]!==void 0&&(_.issueKey=a[1]),t=new ve({props:_}),j.push(()=>ae(t,"issueKey",c)),s=new we({}),{c(){e=p("div"),C(t.$$.fragment),o=w(),u=p("textarea"),f=w(),r=p("div"),C(s.$$.fragment),this.h()},l(d){e=v(d,"DIV",{class:!0});var k=T(e);H(t.$$.fragment,k),o=K(k),u=v(k,"TEXTAREA",{class:!0}),T(u).forEach(m),k.forEach(m),f=K(d),r=v(d,"DIV",{class:!0});var N=T(r);H(s.$$.fragment,N),N.forEach(m),this.h()},h(){g(u,"class","mt-2 svelte-489qpk"),g(e,"class","left pr-2 svelte-489qpk"),g(r,"class","right svelte-489qpk")},m(d,k){y(d,e,k),O(t,e,null),b(e,o),b(e,u),z(u,a[0]),y(d,f,k),y(d,r,k),O(s,r,null),h=!0,n||(l=I(u,"input",a[3]),n=!0)},p(d,[k]){const N={};!i&&k&2&&(i=!0,N.issueKey=d[1],re(()=>i=!1)),t.$set(N),k&1&&z(u,d[0])},i(d){h||(E(t.$$.fragment,d),E(s.$$.fragment,d),h=!0)},o(d){D(t.$$.fragment,d),D(s.$$.fragment,d),h=!1},d(d){d&&m(e),R(t),d&&m(f),d&&m(r),R(s),n=!1,l()}}}function De(a,e,t){let{description:i=""}=e,{issueKey:o=""}=e;function u(r){o=r,t(1,o)}function f(){i=this.value,t(0,i)}return a.$$set=r=>{"description"in r&&t(0,i=r.description),"issueKey"in r&&t(1,o=r.issueKey)},[i,o,u,f]}class Ie extends q{constructor(e){super();B(this,e,De,Ke,V,{description:0,issueKey:1})}}function x(a,e,t){const i=a.slice();return i[2]=e[t],i}function ee(a){let e,t;return e=new Ie({props:{description:a[2].description,issueKey:a[2].issue}}),{c(){C(e.$$.fragment)},l(i){H(e.$$.fragment,i)},m(i,o){O(e,i,o),t=!0},p(i,o){const u={};o&1&&(u.description=i[2].description),o&1&&(u.issueKey=i[2].issue),e.$set(u)},i(i){t||(E(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){R(e,i)}}}function Ae(a){let e,t,i,o,u,f,r=a[0],s=[];for(let n=0;n<r.length;n+=1)s[n]=ee(x(a,r,n));const h=n=>D(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=w(),t=p("button"),i=S("Add Task"),this.h()},l(n){for(let c=0;c<s.length;c+=1)s[c].l(n);e=K(n),t=v(n,"BUTTON",{class:!0});var l=T(t);i=G(l,"Add Task"),l.forEach(m),this.h()},h(){g(t,"class","button is-primary mt-1 svelte-100yq62")},m(n,l){for(let c=0;c<s.length;c+=1)s[c].m(n,l);y(n,e,l),y(n,t,l),b(t,i),o=!0,u||(f=I(t,"click",a[1]),u=!0)},p(n,[l]){if(l&1){r=n[0];let c;for(c=0;c<r.length;c+=1){const _=x(n,r,c);s[c]?(s[c].p(_,l),E(s[c],1)):(s[c]=ee(_),s[c].c(),E(s[c],1),s[c].m(e.parentNode,e))}for(te(),c=r.length;c<s.length;c+=1)h(c);se()}},i(n){if(!o){for(let l=0;l<r.length;l+=1)E(s[l]);o=!0}},o(n){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)D(s[l]);o=!1},d(n){P(s,n),n&&m(e),n&&m(t),u=!1,f()}}}function Ne(a,e,t){let i=[];ne(()=>{ce()?o():fe("/upload/config")});function o(){t(0,i=[...i,new he])}return[i,o]}class je extends q{constructor(e){super();B(this,e,Ne,Ae,V,{})}}export{je as default};
